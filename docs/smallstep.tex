\chapter{Small-step semantics}
\[
  \begin{prooftree}[center=false]
    \infer0[\textsc{IntE}/\textsc{BoolE}]{v \longrightarrow v}
  \end{prooftree}
  \qquad
  \begin{prooftree}[center=false]
    \infer0[\textsc{Lambda}]{e \longrightarrow \mathbold{\lambda} x : \tau \ldotp e'}
  \end{prooftree}
\]
\[
  \begin{prooftree}
    \hypo{e_1 \longrightarrow e'_1}
    \infer1[\textsc{PairA1}]{\langle e_1,e_2 \rangle \longrightarrow \langle e'_1,e_2 \rangle}
  \end{prooftree}
  \qquad
  \begin{prooftree}
    \hypo{e_2 \longrightarrow e'_2}
    \infer1[\textsc{PairA2}]{\langle e_1,e_2 \rangle \longrightarrow \langle e_1,e'_2 \rangle}
  \end{prooftree}
\]
\[
  \begin{prooftree}
    \hypo{e_1 \longrightarrow e'_1}
    \infer1[\textsc{AppF}]{e_1\,e_2 \longrightarrow e'_1\,e_2}
  \end{prooftree}
  \quad
  \begin{prooftree}
    \hypo{e_2 \longrightarrow e'_2}
    \infer1[\textsc{AppV}]{(\mathbold{\lambda}x : \tau \ldotp e_1)\,e_2 \longrightarrow (\mathbold{\lambda}x : \tau \ldotp e_1)\,e'_2}
  \end{prooftree}
\]
\[
  \begin{prooftree}
    \hypo{e[\sfrac{v}{x}] \longrightarrow v'}
    \infer1[\textsc{App}]{(\mathbold{\lambda}x : \tau \ldotp e)\,v \longrightarrow v'}
  \end{prooftree}
  \quad
  \begin{prooftree}
    \hypo{e \longrightarrow e'}
    \infer1[\textsc{FixF}]{\text{\textbf{fix }} e \longrightarrow \text{\textbf{fix }} e'}
  \end{prooftree}
  \quad
  \begin{prooftree}
    \hypo{e[\sfrac{\text{\textbf{fix }} (\mathbold{\lambda}x : \tau \ldotp e)}{x}] \rightarrow e'}
    \infer1[\textsc{FixV}]{\text{\textbf{fix }} (\mathbold{\lambda}x : \tau \ldotp e) \rightarrow e'}
  \end{prooftree}
\]
\[
  \begin{prooftree}
    \hypo{c \longrightarrow c'}
    \infer1[\textsc{CondC}]{\text{\textbf{if} } c \text{ \textbf{then} } e_1 \text{ \textbf{else} } e_2 \longrightarrow \text{\textbf{if} } c' \text{ \textbf{then} } e_1 \text{ \textbf{else} } e_2}
  \end{prooftree}
\]
\begin{prooftree*}
  \hypo{e_1 \longrightarrow e'_1}
  \infer1[\textsc{CondA1}]{\text{\textbf{if} } v \text{ \textbf{then} } e_1 \text{ \textbf{else} } e_2 \longrightarrow \text{\textbf{if} } v \text{ \textbf{then} } e'_1 \text{ \textbf{else} } e_2}
\end{prooftree*}
\begin{prooftree*}
  \hypo{e_2 \longrightarrow e'_2}
  \infer1[\textsc{CondA2}]{\text{\textbf{if} } v \text{ \textbf{then} } e_1 \text{ \textbf{else} } e_2 \longrightarrow {\text{\textbf{if} } v \text{ \textbf{then} } e_1 \text{ \textbf{else} } e'_2}}
\end{prooftree*}
\[
  \begin{prooftree}
    \hypo{v \longrightarrow \text{True}}
    \infer1[\textsc{CondTrue}]{\text{\textbf{if} } v \text{ \textbf{then} } e_1 \text{ \textbf{else} } e_2 \longrightarrow e_1}
  \end{prooftree}
  \quad
  \begin{prooftree}
    \hypo{v \longrightarrow \text{False}}
    \infer1[\textsc{CondFalse}]{\text{\textbf{if} } v \text{ \textbf{then} } e_1 \text{ \textbf{else} } e_2 \longrightarrow e_2}
  \end{prooftree}
\]
\[
  \begin{prooftree}
    \hypo{e_1 \longrightarrow e'_1}
    \infer1[\textsc{PrimBinOpA1}]{e_1 \text{ \textbf{binop} } e_2 \longrightarrow e'_1 \text{ \textbf{binop} } e_2}
  \end{prooftree}
\]
\[
  \begin{prooftree}
    \hypo{e_2 \longrightarrow e'_2}
    \infer1[\textsc{PrimBinOpA1}]{e_1 \text{ \textbf{binop} } e_2 \longrightarrow e_1 \text{ \textbf{binop} } e'_2}
  \end{prooftree}
\]
\[
  \begin{prooftree}
    \infer0[\textsc{PrimBinOp}]{v_1 \text { \textbf{binop} } v_2 \longrightarrow v}
  \end{prooftree}
  \quad
  \begin{prooftree}
    \hypo{e \longrightarrow e'}
    \infer1[\textsc{PrimOpA}]{\text{\textbf{op} } e \longrightarrow \text{\textbf{op} } e'}
  \end{prooftree}
  \quad
  \begin{prooftree}
    \infer0[\textsc{PrimOp}]{\text{\textbf{op} } v \longrightarrow v'}
  \end{prooftree}
\]
